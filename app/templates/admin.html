{% extends "layout_admin.html" %}
{% block title %}Admin | アンサンブル・シマエナガ{% endblock %}

{% block content %}
<div class="container py-5">
    <h1 class="fs-2 mb-4">Admin</h1>

    <!-- ユーザー情報 -->
    <div class="mb-4">
        <p><strong>ログインユーザー:</strong> {{ current_user.name }}</p>
        <p><strong>アクセスユーザー数:</strong> {{ count.user_count }}</p>
        <p><strong>総アクセス数:</strong> {{ count.access_count }}</p>
    </div>

    <!-- フラッシュメッセージ -->
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="alert alert-warning" role="alert">
                <ul class="mb-0">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            </div>
        {% endif %}
    {% endwith %}

    <!-- 管理メニュー -->
    <div class="row g-3">
        <div class="col-md-6">
            <a href="{{ url_for('main.index') }}" class="btn btn-outline-dark w-100">🏠 トップページ</a>
        </div>

        <div class="col-md-6">
            <a href="{{ url_for('main.post') }}" class="btn btn-outline-dark w-100">📝 投稿一覧</a>
        </div>

        <div class="col-md-6">
            <a href="{{ url_for('main.concert_list') }}" class="btn btn-outline-dark w-100">🎵 演奏会リスト</a>
        </div>

        <div class="col-md-6">
            <a href="{{ url_for('main.kawagutisan') }}" class="btn btn-outline-dark w-100">🌸 Kawagutisan</a>
        </div>

        {% if current_user.id == "taiyo" %}
        <div class="col-md-6">
            <a href="/management" class="btn btn-outline-secondary w-100">🛠 Flask-admin</a>
        </div>
        
        <div class="col-md-6">
            <a href="{{ url_for('main.user') }}" class="btn btn-outline-dark w-100 ">👥 ユーザー一覧</a>
        </div>
        {% endif %}

        <div class="col-md-6">
            <a href="{{ url_for('main.logout') }}" class="btn btn-danger w-100">🚪 ログアウト</a>
        </div>

    </div>
</div>
{% endblock %}
